include "engine.paw";

engine.keybind.add("up", 26);
engine.keybind.add("down", 22);
engine.keybind.add("left", 4);
engine.keybind.add("right", 7);

engine.funcs.tile_texture tile_texture {
    return 0;
}

engine.funcs.entity_texture player_texture {
    return engine.assets.get("trol.png");
}

engine.funcs.entity_update player_update {
    if engine.keybind.down("up")    => entity.pos_y -= 1/8.0;
    if engine.keybind.down("down")  => entity.pos_y += 1/8.0;
    if engine.keybind.down("left")  => entity.pos_x -= 1/8.0;
    if engine.keybind.down("right") => entity.pos_x += 1/8.0;
    (tilemap.node.parent -> LevelRootNode).cam_x = entity.pos_x * 16 - 192;
    (tilemap.node.parent -> LevelRootNode).cam_y = entity.pos_y * 16 - 128;
}
